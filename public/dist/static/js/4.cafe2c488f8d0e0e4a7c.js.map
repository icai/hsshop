{"version":3,"sources":["webpack:///src/views/statistic/revenue/revenue.vue","webpack:///./src/views/statistic/revenue/revenue.vue?27d1","webpack:///./src/views/statistic/revenue/revenue.vue"],"names":["revenue","data","dayText","paramsType","setAmountAll","setAmount","setMax","setPerAmount","mounted","this","_getcustomer","methods","handleDayTab","index","hanldeIncomeDetail","$router","replace","name","type","_this","paramObj","token","time","getToken","$axios","get","getHost","url","hsStatistic","params","parameter","then","res","errCode","amountAll","amount","max","perAmount","setIncome","setCreated","lists","detail","i","length","push","income","created_at","lineOption","xAxis","$refs","lineSta","handleDrawLine","_num","num","money","console","log","sum","substring","indexOf","revenue_revenue","render","_vm","_h","$createElement","_c","_self","staticClass","ref","on","_v","_s","_m","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.cafe2c488f8d0e0e4a7c.js","sourcesContent":["<template>\n  <div class=\"revenue\">\n    <div class=\"statistic-data\">\n      <div class=\"echarts-box\">\n        <line-statis ref=\"lineSta\" @handleDayTab=\"handleDayTab\"></line-statis>\n      </div>\n      <div class=\"total-data\">\n        <p class=\"total-data__all\">\n          <span>¥{{_num(setAmount)}}</span>\n          <span>{{dayText}}收入</span>\n        </p>\n        <p class=\"total-data__maxday\">\n          <span>¥{{_num(setMax)}}</span>\n          <span>单日最高</span>\n        </p>\n        <p class=\"total-data__midday\">\n          <span>¥{{_num(setPerAmount)}}</span>\n          <span>日均</span>\n        </p>\n      </div>\n    </div>\n    <div class=\"statistic-navigator\">\n      <p class=\"income\">\n        <span>总收入</span>\n        <span class=\"income__price\">{{_num(setAmountAll)}}元</span>\n      </p>\n      <!-- <p class=\"income\" @click=\"hanldeIncomeDetail\"> -->\n      <p class=\"income\">\n        <span>收支明细</span>\n        <span><i class=\"iconfont hs-icon-you icon-throw\"></i></span>\n      </p>\n    </div>\n    <static-bottom></static-bottom>\n  </div>\n</template>\n<script>\nimport app from '../../../utils/time'\nimport api from '../../../apis/url'\nimport Option from '../../../components/line/lineOption'\nexport default {\n  data() {\n    return {\n      dayText: '7天',\n      paramsType: '1',\n      setAmountAll: '0',\n      setAmount: '0',\n      setMax: '0',\n      setPerAmount: '0',\n      revenue: {}\n    }\n  },\n  mounted() {\n    this._getcustomer(this.paramsType)\n  },\n  methods: {\n    // 点击tab的时候\n    handleDayTab(index) {\n      this._getcustomer(index + 1)\n    },\n    // 跳转到收支明细\n    hanldeIncomeDetail() {\n      this.$router.replace({\n        name: 'income-detail'\n      })\n    },\n    _getcustomer(type) {\n      let _this = this\n      let paramObj = {\n        token: app.getToken(this),\n        type: type\n      }\n      _this.$axios.get(app.getHost(this) + api.hsStatistic.revenue, {\n        params: {\n          parameter: paramObj\n        }\n      }).then((res) => {\n        if (res.errCode === 40000) {\n          let data = res.data\n          _this.setAmountAll = data.amountAll\n          _this.setAmount = data.amount\n          _this.setMax = data.max\n          _this.setPerAmount = data.perAmount\n          _this.revenue.setIncome = []\n          _this.revenue.setCreated = []\n          _this.dayText = (type - 1) === 0 ? '7天' : (type - 1) === 1 ? '30天' : '90天'\n          let lists = data.detail\n          for (let i = 0; i < lists.length; i++) {\n            _this.revenue.setIncome.push(lists[i].income)\n            _this.revenue.setCreated.push(lists[i].created_at)\n          }\n          Option.xAxis[0].data[0] = _this.revenue.setCreated[0]\n          Option.xAxis[0].data[Option.xAxis[0].data.length - 1] = _this.revenue.setCreated[_this.revenue.setCreated.length - 1]\n          _this.$refs.lineSta.handleDrawLine(_this.revenue)\n        }\n      })\n    },\n    _num(num) {\n      let money = 0\n      if(num > 10000){\n        console.log(num / 10000);\n        let sum = (num / 10000) + ''\n        money = sum.substring(0,sum.indexOf(\".\") + 3) + '万'\n      }else{\n        money = num\n      }\n      return money\n    }\n  },\n}\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n.revenue\n  width 100%;\n  height 100%;\n  background #F5F5F5;\n.statistic-data\n  height 305px;\n  width 100%;\n  background -linear-gradient(top, #FF5E5B 40%, #FF403D);\n  background -webkit-linear-gradient(top, #FF5E5B 40%, #FF403D);\n  .echarts-box\n    height 230px;\n.statistic-navigator\n  margin-top: 10px;\n  color #333;\n  font-size 16px;\n  padding 0 13px;\n  background #fff;\n  .income\n    display flex;\n    justify-content space-between;\n    align-items center;\n    height 44px;\n    border-top 1px solid #F5F5F5;\n    &__price\n      color #FF2C40;\n    .icon-throw\n      color #999;\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/statistic/revenue/revenue.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"revenue\"},[_c('div',{staticClass:\"statistic-data\"},[_c('div',{staticClass:\"echarts-box\"},[_c('line-statis',{ref:\"lineSta\",on:{\"handleDayTab\":_vm.handleDayTab}})],1),_vm._v(\" \"),_c('div',{staticClass:\"total-data\"},[_c('p',{staticClass:\"total-data__all\"},[_c('span',[_vm._v(\"¥\"+_vm._s(_vm._num(_vm.setAmount)))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.dayText)+\"收入\")])]),_vm._v(\" \"),_c('p',{staticClass:\"total-data__maxday\"},[_c('span',[_vm._v(\"¥\"+_vm._s(_vm._num(_vm.setMax)))]),_vm._v(\" \"),_c('span',[_vm._v(\"单日最高\")])]),_vm._v(\" \"),_c('p',{staticClass:\"total-data__midday\"},[_c('span',[_vm._v(\"¥\"+_vm._s(_vm._num(_vm.setPerAmount)))]),_vm._v(\" \"),_c('span',[_vm._v(\"日均\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"statistic-navigator\"},[_c('p',{staticClass:\"income\"},[_c('span',[_vm._v(\"总收入\")]),_vm._v(\" \"),_c('span',{staticClass:\"income__price\"},[_vm._v(_vm._s(_vm._num(_vm.setAmountAll))+\"元\")])]),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_c('static-bottom')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"income\"},[_c('span',[_vm._v(\"收支明细\")]),_vm._v(\" \"),_c('span',[_c('i',{staticClass:\"iconfont hs-icon-you icon-throw\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-dd8f6120\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/statistic/revenue/revenue.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dd8f6120\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":18.75}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./revenue.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./revenue.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./revenue.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dd8f6120\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./revenue.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dd8f6120\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/statistic/revenue/revenue.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}